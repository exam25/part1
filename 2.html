<!DOCTYPE html>
<html>
    <head>
        <title>Program 2</title>
    </head>
    <body>
        <button onclick="func()">Submit</button>
        <script>
            function func(){

                var s = performance.now();
                async1()
                    .then(() => {
                        console.log("async1 completed." + (performance.now()-s));
                        return async2();
                    })
                    .then(() => {
                        console.log("async2 completed." + (performance.now()-s));
                        return async3();
                    })
                    .then(() => {
                        console.log("async3 completed." + (performance.now()-s));
                        console.log("All tasks done.");
                    })
                    .catch((error) => {
                        console.log("An error occurred:", error);
                    });

                setTimeout(() => {
                    evenodd();
                    console.log("Time for evenodd " + (performance.now()-s));
                }, 2200);
            }

            function async1(){
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("Async1 done.");
                        resolve();
                    }, 2000);
                });
            }

            function async2(){
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("Async2 done.");
                        resolve();
                    }, 1500);
                });
            }

            function async3(){
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("Async3 done.");
                        resolve();
                    }, 2500);
                });
            }

            function evenodd(){
                if(parseInt(prompt("Enter number")) % 2 == 0)
                    console.log("Even number entered.");
                else
                    console.log("Odd number entered.");
            }
        </script>
    </body>
</html>
