<!DOCTYPE html>
<html>
    <head>
        <title>JavaScript Promises</title>
    </head>
    <body>
        <button onclick="func()">Submit</button>

        <script>
            function func(){
                Promise.all([async1(), additionalAsyncOperation()])
                    .then(() => async2())
                    .then(() => async3())
                    .then(() => {
                        console.log("All tasks complete");
                    })
                    .catch((error) => {
                        console.log("An error occurred:", error);
                    });
            }

            function async1(){
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("Async1 done.");
                        resolve();
                    }, 2000);
                });
            }

            function additionalAsyncOperation(){
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("Additional asynchronous operation completed.");
                        resolve();
                    }, 2000);
                });
            }

            function async2(){
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("Async2 done.");
                        resolve();
                    }, 2000);
                });
            }

            function async3(){
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("Async3 done.");
                        resolve();
                    }, 2000);
                });
            }
        </script>
    </body>
</html>
